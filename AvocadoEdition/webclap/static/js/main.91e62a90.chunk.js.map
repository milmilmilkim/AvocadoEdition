{"version":3,"sources":["utils/AdapterLink.js","utils/WebclapRoute.js","App.js","hooks/useStore.js","components/admin/message/MessageList.js","components/admin/message/ClapChart.js","components/admin/message/CalendarView.js","components/admin/message/MessagePanel.js","components/admin/config/ConfigPanel.js","components/admin/db/DbPanel.js","pages/Admin.js","components/common/GradientFab.js","components/home/MessageForm.js","components/home/SendClapButton.js","pages/Home.js","components/login/LoginForm.js","pages/Login.js","components/install/InstallForm.js","pages/Install.js","utils/api.js","components/common/GradientButton.js","hooks/useGlobal.js","serviceWorker.js","index.js","hooks/useForm.js"],"names":["React","forwardRef","props","ref","innerRef","WebclapRoute","Component","component","type","rest","useGlobal","state","config","render","error","to","isAuthenticated","Cookies","get","useStyles","makeStyles","success","background","warning","info","hot","module","classes","useEffect","document","title","maxSnack","anchorOrigin","vertical","horizontal","variantSuccess","variantError","variantWarning","variantInfo","autoHideDuration","path","exact","Home","Login","Admin","Install","initialState","date","Date","enable","messages","count","clap","message","countConverter","Array","from","length","v","i","actions","fetch","formatted","format","this","api","data","runInAction","handleMonthChange","handleDateChange","deleteAll","createStore","StoreContext","createContext","StoreProvider","children","store","useLocalStore","Provider","value","useStore","useContext","Error","theme","padding","spacing","borderBottom","palette","divider","Message","Box","className","mb","content","split","map","item","key","Typography","variant","color","fontSize","MessageList","useObserver","textAlign","fontWeight","p","flex","overflow","x","id","py","Chart","defaults","global","defaultFontColor","defaultFontFamily","defaultFontSize","backgroundColorSet","borderColorSet","chart","width","height","position","breakpoints","up","down","observer","ctxMount","useRef","canvasEl","useState","style","body","tooltip","setTooltip","customTooltips","useCallback","tt","opacity","bodyItems","bodyItem","lines","filter","temp","Number","join","replace","positionY","current","canvas","offsetTop","positionX","offsetLeft","points","dataPoints","left","top","caretY","fontFamily","_bodyFontFamily","bodyFontSize","fontStyle","_bodyFontStyle","yPadding","xPadding","backgroundColor","borderRadius","classList","pull","yAlign","includes","push","update","ctx","getContext","labels","datasets","label","dataIndex","borderColor","borderWidth","options","maintainAspectRatio","legend","display","scales","xAxes","ticks","suggestedMax","stacked","yAxes","tooltips","enabled","custom","destroy","canvasJsx","useMemo","tooltipJsx","dangerouslySetInnerHTML","__html","pickerProps","useStaticState","onChange","shouldDisableDate","day","isSame","isSameDay","isEnable","getDate","disableFuture","onMonthChange","wrap","leftWrap","flexDirection","marginBottom","calendar","flexShrink","flexGrow","marginLeft","MessagePanel","boxShadow","button","marginTop","fileInput","fileLabel","fileButton","fileLabelSpan","text","hint","whiteSpace","textOverflow","maxWidth","uploaded","primary","ConfigPanel","enqueueSnackbar","useSnackbar","configActions","useForm","wc_title","wc_main_msg","wc_return_msg","wc_cnt_limit","wc_main_img","wc_main_img_data","values","errors","trim","setValues","isSubmitting","setIsSubmitting","handleSubmit","handleChange","a","formData","FormData","append","post","headers","setConfig","response","onSubmit","autoComplete","TextField","name","placeholder","margin","fullWidth","InputLabelProps","shrink","helperText","accept","e","file","target","files","htmlFor","GradientButton","clsx","disabled","open","setOpen","handleClickOpen","handleClose","delete","size","onClick","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","TabPanel","index","other","role","hidden","minHeight","history","auth","authActions","tabIndex","setTabIndex","logout","Container","Paper","square","AppBar","elevation","Tabs","textColor","event","newValue","Tab","Divider","alignItems","justifyContent","AdapterLink","root","shadows","GradientFab","Fab","leftIcon","marginRight","MessageForm","handleReset","noValidate","multiline","rows","SendClapButton","imageBox","grey","backgroundImage","process","img","backgroundSize","backgroundRepeat","backgroundPosition","formBox","flexBasis","paddingTop","paddingBottom","paddingRight","paddingLeft","fab","bottom","right","Link","href","underline","aria-label","withRouter","username","password","setErrors","login","console","log","paper","avatar","goback","IconButton","Avatar","gutterBottom","wc_host","wc_user","wc_password","wc_db","test","getConfig","instance","axios","create","baseURL","contained","outlined","setState","useGlobalHook","Boolean","window","location","hostname","match","createMuiTheme","xs","sm","md","lg","xl","main","contrastText","secondary","default","typography","ReactDOM","utils","DateFnsUtils","ThemeProvider","App","CssBaseline","getElementById","navigator","serviceWorker","ready","then","registration","unregister","initialValues","validate","preventDefault","validated","Object","keys","persist"],"mappings":"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","file":"static/js/main.91e62a90.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default React.forwardRef((props, ref) => <Link innerRef={ref} {...props} />)\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport Cookies from 'js-cookie'\r\nimport useGlobal from 'hooks/useGlobal'\r\n\r\nfunction WebclapRoute({ component: Component, type, ...rest }) {\r\n\tconst [config] = useGlobal(state => state.config)\r\n\r\n\tif (!config) return null\r\n\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={props => {\r\n\t\t\t\t// if ((sessionStorage && sessionStorage.getItem('installed')) || !config.error) {\r\n\t\t\t\tif (!config.error) {\r\n\t\t\t\t\tconst isAuthenticated = !!Cookies.get('jtp')\r\n\t\t\t\t\t// 설치된경우\r\n\t\t\t\t\tif (type === 'install') return <Redirect to=\"/\" /> // 설치경로로 들어오면 메인으로 리다이렉트\r\n\t\t\t\t\tif (type === 'login' && isAuthenticated) return <Redirect to=\"/\" /> // 이미 인증되었으면 로그인화면 접근 불가능. 메인으로 리다이렉트\r\n\t\t\t\t\tif (type === 'private' && !isAuthenticated) return <Redirect to=\"/login\" /> // 미인증이 private경로로 들어오면 로그인으로 리다이렉트\r\n\t\t\t\t\treturn <Component {...props} />\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 설치안된경우\r\n\t\t\t\t\treturn type === 'install' ? <Component {...props} /> : <Redirect to=\"/install\" />\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default WebclapRoute\r\n","import React, { useEffect } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { SnackbarProvider } from 'notistack'\r\nimport { HashRouter as Router, Switch } from 'react-router-dom'\r\nimport { hot } from 'react-hot-loader'\r\nimport Home from 'pages/Home'\r\nimport Login from 'pages/Login'\r\nimport Admin from 'pages/Admin'\r\nimport Install from 'pages/Install'\r\nimport WebclapRoute from 'utils/WebclapRoute'\r\n\r\nconst useStyles = makeStyles({\r\n\tsuccess: { background: 'linear-gradient(135deg, #70F570 10%, #49C628 100%)' },\r\n\terror: { background: 'linear-gradient(135deg, #F05F57 10%, #E80505 100%)' },\r\n\twarning: { background: 'linear-gradient(135deg, #FDD819 10%, #FA742B 100%)' },\r\n\tinfo: { background: 'linear-gradient(135deg, #43CBFF 10%, #130CB7 100%)' },\r\n})\r\n\r\nfunction App() {\r\n\tconst classes = useStyles()\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.title = '웹박수'\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<SnackbarProvider\r\n\t\t\tmaxSnack={3}\r\n\t\t\tanchorOrigin={{\r\n\t\t\t\tvertical: 'top',\r\n\t\t\t\thorizontal: 'center',\r\n\t\t\t}}\r\n\t\t\tclasses={{\r\n\t\t\t\tvariantSuccess: classes.success,\r\n\t\t\t\tvariantError: classes.error,\r\n\t\t\t\tvariantWarning: classes.warning,\r\n\t\t\t\tvariantInfo: classes.info,\r\n\t\t\t}}\r\n\t\t\tautoHideDuration={3000}\r\n\t\t>\r\n\t\t\t<Router>\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<WebclapRoute path=\"/\" exact component={Home} />\r\n\t\t\t\t\t<WebclapRoute type=\"login\" path=\"/login\" component={Login} />\r\n\t\t\t\t\t<WebclapRoute type=\"private\" path=\"/admin\" component={Admin} />\r\n\t\t\t\t\t<WebclapRoute type=\"install\" path=\"/install\" component={Install} />\r\n\t\t\t\t</Switch>\r\n\t\t\t</Router>\r\n\t\t</SnackbarProvider>\r\n\t)\r\n}\r\n\r\nexport default hot(module)(App)\r\n","import React from 'react'\r\nimport { runInAction } from 'mobx'\r\nimport { useLocalStore } from 'mobx-react-lite'\r\nimport { format } from 'date-fns'\r\nimport api from 'utils/api'\r\n\r\nconst initialState = {\r\n\tdate: new Date(),\r\n\tenable: [],\r\n\tmessages: null,\r\n\tcount: { clap: null, message: null },\r\n}\r\n\r\nconst countConverter = ({ clap, message }) => ({\r\n\tclap: Array.from({ length: 24 }, (v, i) => (clap[i] ? clap[i] : 0)),\r\n\tmessage: Array.from({ length: 24 }, (v, i) => (message[i] ? message[i] : 0)),\r\n})\r\n\r\nconst actions = {\r\n\tasync fetch() {\r\n\t\ttry {\r\n\t\t\tconst formatted = format(this.date, 'yyyyMMdd')\r\n\t\t\tconst { data } = await api.get(`/api/message.php?date=${formatted}&val=enable:messages:count`)\r\n\t\t\trunInAction(() => {\r\n\t\t\t\tthis.enable = data.enable\r\n\t\t\t\tthis.messages = data.messages\r\n\t\t\t\tthis.count = countConverter(data.count)\r\n\t\t\t})\r\n\t\t} catch (e) {\r\n\t\t\t//\r\n\t\t}\r\n\t},\r\n\tasync handleMonthChange(date) {\r\n\t\ttry {\r\n\t\t\tconst formatted = format(date, 'yyyyMMdd')\r\n\t\t\tconst { data } = await api.get(`/api/message.php?date=${formatted}&val=enable`)\r\n\t\t\trunInAction(() => {\r\n\t\t\t\tthis.enable = data.enable\r\n\t\t\t})\r\n\t\t} catch (e) {\r\n\t\t\t//\r\n\t\t}\r\n\t},\r\n\tasync handleDateChange(date) {\r\n\t\ttry {\r\n\t\t\tthis.date = date\r\n\t\t\tconst formatted = format(date, 'yyyyMMdd')\r\n\t\t\tconst { data } = await api.get(`/api/message.php?date=${formatted}&val=messages:count`)\r\n\t\t\trunInAction(() => {\r\n\t\t\t\tthis.messages = data.messages\r\n\t\t\t\tthis.count = countConverter(data.count)\r\n\t\t\t})\r\n\t\t} catch (e) {\r\n\t\t\t//\r\n\t\t}\r\n\t},\r\n\tdeleteAll() {\r\n\t\tthis.enable = []\r\n\t\tthis.messages = null\r\n\t\tthis.count = { clap: null, message: null }\r\n\t},\r\n}\r\n\r\nfunction createStore() {\r\n\treturn {\r\n\t\t...initialState,\r\n\t\t...actions,\r\n\t}\r\n}\r\n\r\nconst StoreContext = React.createContext(null)\r\n\r\nexport function StoreProvider({ children }) {\r\n\tconst store = useLocalStore(createStore)\r\n\r\n\tReact.useEffect(() => {\r\n\t\tstore.fetch()\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\treturn <StoreContext.Provider value={store}>{children}</StoreContext.Provider>\r\n}\r\n\r\nfunction useStore() {\r\n\tconst store = React.useContext(StoreContext)\r\n\tif (!store) {\r\n\t\tthrow new Error('에바')\r\n\t}\r\n\treturn store\r\n}\r\n\r\nexport default useStore\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { useObserver } from 'mobx-react-lite'\r\nimport useStore from 'hooks/useStore'\r\nimport { format } from 'date-fns'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tmessage: {\r\n\t\tpadding: theme.spacing(1),\r\n\t\tborderBottom: `1px solid ${theme.palette.divider}`,\r\n\t\t'&:last-child': {\r\n\t\t\tborderBottom: 0,\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nfunction Message({ message }) {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<Box className={classes.message}>\r\n\t\t\t<Box mb={0.3}>\r\n\t\t\t\t{message.content.split('\\n').map((item, key) => (\r\n\t\t\t\t\t<Typography key={key} variant=\"body2\">\r\n\t\t\t\t\t\t{item}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t))}\r\n\t\t\t</Box>\r\n\t\t\t<Box color=\"text.hint\" fontSize=\"caption.fontSize\">\r\n\t\t\t\t{format(new Date(message.date), 'HH:mm:ss')}\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nfunction MessageList() {\r\n\tconst store = useStore()\r\n\r\n\treturn useObserver(() => (\r\n\t\t<>\r\n\t\t\t<Box textAlign=\"center\" fontWeight=\"fontWeightMedium\" p={1}>\r\n\t\t\t\t{format(store.date, 'yyyy년 MM월 dd일')}의 메시지\r\n\t\t\t</Box>\r\n\t\t\t<Box flex=\"1\" overflow=\"auto\">\r\n\t\t\t\t{store.messages && store.messages.length > 0 ? (\r\n\t\t\t\t\tstore.messages.map(x => <Message key={x.id} message={x} />)\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Box py={4} textAlign=\"center\" color=\"text.hint\">\r\n\t\t\t\t\t\t메시지가 없습니다.\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)}\r\n\t\t\t</Box>\r\n\t\t</>\r\n\t))\r\n}\r\n\r\nexport default MessageList\r\n","import React, { useRef, useEffect, useState, useMemo, useCallback } from 'react'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport { observer } from 'mobx-react-lite'\r\nimport Chart from 'chart.js'\r\nimport { pull } from 'lodash'\r\nimport { format } from 'date-fns'\r\nimport useStore from 'hooks/useStore'\r\n\r\nChart.defaults.global.defaultFontColor = '#333'\r\nChart.defaults.global.defaultFontFamily = '\"Noto Sans KR\", sans-serif'\r\nChart.defaults.global.defaultFontSize = 11\r\n\r\nconst backgroundColorSet = [\r\n\t'rgba(255, 99, 132, 0.2)',\r\n\t'rgba(54, 162, 235, 0.2)',\r\n\t'rgba(255, 206, 86, 0.2)',\r\n\t'rgba(75, 192, 192, 0.2)',\r\n\t'rgba(153, 102, 255, 0.2)',\r\n\t'rgba(255, 159, 64, 0.2)',\r\n\t'rgba(255, 99, 132, 0.2)',\r\n\t'rgba(54, 162, 235, 0.2)',\r\n\t'rgba(255, 206, 86, 0.2)',\r\n]\r\nconst borderColorSet = [\r\n\t'rgba(255, 99, 132, 1)',\r\n\t'rgba(54, 162, 235, 1)',\r\n\t'rgba(255, 206, 86, 1)',\r\n\t'rgba(75, 192, 192, 1)',\r\n\t'rgba(153, 102, 255, 1)',\r\n\t'rgba(255, 159, 64, 1)',\r\n\t'rgba(255, 99, 132, 1)',\r\n\t'rgba(54, 162, 235, 1)',\r\n\t'rgba(255, 206, 86, 1)',\r\n]\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tchart: {\r\n\t\t'& canvas': {\r\n\t\t\twidth: '100% !important',\r\n\t\t\theight: '100% !important',\r\n\t\t},\r\n\t\tposition: 'relative',\r\n\t\twidth: '100%',\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\theight: '100%',\r\n\t\t\tflex: 1,\r\n\t\t},\r\n\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\theight: 550,\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nfunction ClapChart() {\r\n\tconst classes = useStyles()\r\n\tconst store = useStore()\r\n\r\n\tconst ctxMount = useRef(null)\r\n\tconst canvasEl = useRef(null)\r\n\tconst [tooltip, setTooltip] = useState({ className: '', style: {}, body: '' })\r\n\r\n\tconst customTooltips = useCallback(tt => {\r\n\t\t// Hide if no tooltip\r\n\t\tif (tt.opacity === 0) {\r\n\t\t\tsetTooltip(tooltip => ({ ...tooltip, style: { ...tooltip.style, opacity: 0 } }))\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// Set Text\r\n\t\tlet body = ''\r\n\t\tif (tt.body) {\r\n\t\t\tlet bodyItems = tt.body\r\n\t\t\t\t.map(bodyItem => bodyItem.lines[0])\r\n\t\t\t\t.filter(x => {\r\n\t\t\t\t\tlet temp = x.split(':'),\r\n\t\t\t\t\t\tcount = Number(temp[1])\r\n\t\t\t\t\treturn count\r\n\t\t\t\t})\r\n\t\t\tbody = bodyItems.join('<br/>').replace(/:/g, ' :')\r\n\t\t}\r\n\r\n\t\t// Set Style\r\n\t\tlet positionY = ctxMount.current.canvas.offsetTop,\r\n\t\t\tpositionX = ctxMount.current.canvas.offsetLeft\r\n\r\n\t\t// for stack\r\n\t\tlet points = tt.dataPoints,\r\n\t\t\tx = points[points.length - 1].x\r\n\r\n\t\tlet style = {\r\n\t\t\topacity: 1,\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: positionX + x + 5,\r\n\t\t\ttop: positionY + tt.caretY - 14,\r\n\t\t\tfontFamily: tt._bodyFontFamily,\r\n\t\t\tfontSize: tt.bodyFontSize,\r\n\t\t\tfontStyle: tt._bodyFontStyle,\r\n\t\t\tpadding: `${tt.yPadding + 2}px ${tt.xPadding + 2}px`,\r\n\t\t\tbackgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n\t\t\tcolor: '#fff',\r\n\t\t\tborderRadius: 5,\r\n\t\t}\r\n\r\n\t\tsetTooltip(tooltip => {\r\n\t\t\t// Set caret Position\r\n\t\t\tlet classList = tooltip.className.split(' ')\r\n\t\t\tpull(classList, 'above', 'below', 'no-transform')\r\n\t\t\tif (tt.yAlign) {\r\n\t\t\t\t!classList.includes(tt.yAlign) && classList.push(tt.yAlign)\r\n\t\t\t} else {\r\n\t\t\t\t!classList.includes('no-transform') && classList.push('no-transform')\r\n\t\t\t}\r\n\t\t\treturn { className: classList.join(' '), style, body }\r\n\t\t})\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!ctxMount.current) {\r\n\t\t\tconst ctx = canvasEl.current.getContext('2d')\r\n\t\t\tctxMount.current = new Chart(ctx, {\r\n\t\t\t\ttype: 'horizontalBar',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tlabels: Array.from({ length: 24 }, (v, i) => i + '시'),\r\n\t\t\t\t\tdatasets: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: '박수',\r\n\t\t\t\t\t\t\tdata: store.count.clap,\r\n\t\t\t\t\t\t\tbackgroundColor: ({ dataIndex }) => backgroundColorSet[dataIndex % 6],\r\n\t\t\t\t\t\t\tborderColor: ({ dataIndex }) => borderColorSet[dataIndex % 6],\r\n\t\t\t\t\t\t\tborderWidth: 1,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: '메시지',\r\n\t\t\t\t\t\t\tdata: store.count.message,\r\n\t\t\t\t\t\t\tbackgroundColor: ({ dataIndex }) => backgroundColorSet[(dataIndex % 6) + 3],\r\n\t\t\t\t\t\t\tborderColor: ({ dataIndex }) => borderColorSet[(dataIndex % 6) + 3],\r\n\t\t\t\t\t\t\tborderWidth: 1,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t\toptions: {\r\n\t\t\t\t\tmaintainAspectRatio: false,\r\n\t\t\t\t\tlegend: {\r\n\t\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscales: {\r\n\t\t\t\t\t\txAxes: [{ ticks: { suggestedMax: 10 }, stacked: true }],\r\n\t\t\t\t\t\tyAxes: [{ stacked: true }],\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttooltips: {\r\n\t\t\t\t\t\tenabled: false,\r\n\t\t\t\t\t\tcustom: customTooltips,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tctxMount.current.update()\r\n\t\t}\r\n\r\n\t\treturn function cleanup() {\r\n\t\t\tctxMount.current.destroy()\r\n\t\t\tctxMount.current = null\r\n\t\t}\r\n\t}, [customTooltips, store.count])\r\n\r\n\tconst canvasJsx = useMemo(() => <canvas ref={canvasEl}></canvas>, [])\r\n\r\n\tconst tooltipJsx = useMemo(\r\n\t\t() => (\r\n\t\t\t<div\r\n\t\t\t\tid=\"chartjs-tooltip\"\r\n\t\t\t\tstyle={tooltip.style}\r\n\t\t\t\tclassName={tooltip.className}\r\n\t\t\t\tdangerouslySetInnerHTML={{ __html: tooltip.body }}\r\n\t\t\t></div>\r\n\t\t),\r\n\t\t[tooltip]\r\n\t)\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Box p={1} textAlign=\"center\" fontWeight=\"fontWeightMedium\" fontSize=\"body2.fontSize\">\r\n\t\t\t\t{format(store.date, 'yyyy년 MM월 dd일')}의 시간별 박수\r\n\t\t\t</Box>\r\n\t\t\t<Box className={classes.chart}>\r\n\t\t\t\t{canvasJsx}\r\n\t\t\t\t{tooltipJsx}\r\n\t\t\t</Box>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default observer(ClapChart)\r\n","import React, { useCallback } from 'react'\r\nimport { Calendar, useStaticState } from '@material-ui/pickers'\r\nimport { observer } from 'mobx-react-lite'\r\nimport useStore from 'hooks/useStore'\r\nimport { getDate, isSameDay } from 'date-fns'\r\n\r\nfunction CalendarView() {\r\n\tconst store = useStore()\r\n\r\n\tconst { pickerProps } = useStaticState({\r\n\t\tvalue: store.date,\r\n\t\tonChange: store.handleDateChange,\r\n\t})\r\n\r\n\tconst shouldDisableDate = useCallback(\r\n\t\tday => {\r\n\t\t\tconst isSame = isSameDay(day, new Date())\r\n\t\t\tconst isEnable = store.enable.includes(getDate(day))\r\n\t\t\treturn !isSame && !isEnable\r\n\t\t},\r\n\t\t[store.enable]\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Calendar\r\n\t\t\t{...pickerProps}\r\n\t\t\tdisableFuture\r\n\t\t\tonMonthChange={store.handleMonthChange}\r\n\t\t\tshouldDisableDate={shouldDisableDate}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default observer(CalendarView)\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport MessageList from './MessageList'\r\nimport ClapChart from './ClapChart'\r\nimport CalendarView from './CalendarView'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\twrap: {\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\theight: 550,\r\n\t\t\tdisplay: 'flex',\r\n\t\t},\r\n\t},\r\n\tleftWrap: {\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: 0,\r\n\t\t},\r\n\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\tmarginBottom: theme.spacing(2),\r\n\t\t},\r\n\t},\r\n\tcalendar: {\r\n\t\toverflow: 'hidden',\r\n\t\tflexShrink: 0,\r\n\t\tmarginBottom: theme.spacing(2),\r\n\t},\r\n\tmessage: {\r\n\t\tflexGrow: 1,\r\n\t\tbackgroundColor: '#fafafa',\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\theight: 230,\r\n\t\t},\r\n\t},\r\n\tchart: {\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\tmarginLeft: theme.spacing(2),\r\n\t\t\tflexGrow: 1,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nfunction MessagePanel() {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<Box className={classes.wrap}>\r\n\t\t\t<Box className={classes.leftWrap}>\r\n\t\t\t\t<Box className={classes.calendar}>\r\n\t\t\t\t\t<CalendarView />\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box className={classes.message} boxShadow={1} fontSize=\"body2.fontSize\">\r\n\t\t\t\t\t<MessageList />\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box className={classes.chart}>\r\n\t\t\t\t<ClapChart />\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default MessagePanel\r\n","import React from 'react'\r\nimport clsx from 'clsx'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport GradientButton from 'components/common/GradientButton'\r\nimport useGlobal from 'hooks/useGlobal'\r\nimport useForm from 'hooks/useForm'\r\nimport api from 'utils/api'\r\nimport { useSnackbar } from 'notistack'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tbutton: {\r\n\t\tmarginTop: theme.spacing(2),\r\n\t},\r\n\tfileInput: {\r\n\t\tdisplay: 'none',\r\n\t},\r\n\tfileLabel: {\r\n\t\tdisplay: 'inline-flex',\r\n\t\tmarginTop: theme.spacing(2),\r\n\t},\r\n\tfileButton: {},\r\n\tfileLabelSpan: {\r\n\t\tcolor: theme.palette.text.hint,\r\n\t\tmarginLeft: theme.spacing(2),\r\n\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\twhiteSpace: 'nowrap',\r\n\t\t\toverflow: 'hidden',\r\n\t\t\ttextOverflow: 'ellipsis',\r\n\t\t\tmaxWidth: 165,\r\n\t\t},\r\n\t},\r\n\tuploaded: {\r\n\t\tcolor: theme.palette.text.primary,\r\n\t},\r\n}))\r\n\r\nfunction ConfigPanel() {\r\n\tconst classes = useStyles()\r\n\tconst { enqueueSnackbar } = useSnackbar()\r\n\r\n\tconst [config, configActions] = useGlobal(state => state.config, actions => actions.config)\r\n\r\n\tconst { values, setValues, errors, isSubmitting, setIsSubmitting, handleSubmit, handleChange } = useForm(\r\n\t\t{\r\n\t\t\twc_title: config.wc_title,\r\n\t\t\twc_main_msg: config.wc_main_msg,\r\n\t\t\twc_return_msg: config.wc_return_msg,\r\n\t\t\twc_cnt_limit: config.wc_cnt_limit,\r\n\t\t\twc_main_img: config.wc_main_img,\r\n\t\t\twc_main_img_data: null,\r\n\t\t},\r\n\t\tonSubmit,\r\n\t\tvalidate\r\n\t)\r\n\r\n\tasync function onSubmit() {\r\n\t\ttry {\r\n\t\t\tconst formData = new FormData()\r\n\t\t\tformData.append('wc_title', values.wc_title)\r\n\t\t\tformData.append('wc_main_msg', values.wc_main_msg)\r\n\t\t\tformData.append('wc_return_msg', values.wc_return_msg)\r\n\t\t\tformData.append('wc_cnt_limit', values.wc_cnt_limit)\r\n\t\t\tif (values.wc_main_img_data) {\r\n\t\t\t\tformData.append('wc_main_img_orig', config.wc_main_img)\r\n\t\t\t\tformData.append('wc_main_img_data', values.wc_main_img_data)\r\n\t\t\t}\r\n\t\t\tconst { data } = await api.post('/api/config.php', formData, {\r\n\t\t\t\theaders: { 'Content-Type': 'multipart/form-data' },\r\n\t\t\t})\r\n\t\t\tconst wc_main_img = data.wc_main_img ? data.wc_main_img : config.wc_main_img\r\n\t\t\tconfigActions.setConfig({ ...data, wc_main_img: wc_main_img })\r\n\t\t\tenqueueSnackbar('설정을 변경했습니다.', { variant: 'success' })\r\n\t\t\tsetValues(values => ({ ...values, wc_main_img, wc_main_img_data: null }))\r\n\t\t} catch (e) {\r\n\t\t\tenqueueSnackbar(e.response.data.message || '설정을 변경할 수 없습니다.', { variant: 'error' })\r\n\t\t} finally {\r\n\t\t\tsetIsSubmitting(false)\r\n\t\t}\r\n\t}\r\n\r\n\tfunction validate(values) {\r\n\t\tlet errors = {}\r\n\t\tif (!values.wc_title.trim()) {\r\n\t\t\terrors.wc_title = '브라우저 제목을 입력하세요.'\r\n\t\t}\r\n\t\tif (!values.wc_main_msg.trim()) {\r\n\t\t\terrors.wc_main_msg = '메인화면 메시지를 입력하세요.'\r\n\t\t}\r\n\t\tif (!values.wc_return_msg.trim()) {\r\n\t\t\terrors.wc_return_msg = '박수 성공 메시지를 입력하세요.'\r\n\t\t}\r\n\t\tif (values.wc_cnt_limit === '') {\r\n\t\t\terrors.wc_cnt_limit = '연속 박수 횟수 한도를 입력하세요.'\r\n\t\t} else if (values.wc_cnt_limit < 0) {\r\n\t\t\terrors.wc_cnt_limit = '연속 박수 횟수 한도는 0 또는 양수로 입력해야 합니다.'\r\n\t\t}\r\n\t\treturn errors\r\n\t}\r\n\r\n\tfunction handleFileChange(e) {\r\n\t\tconst file = e.target.files[0]\r\n\t\tsetValues(values => ({ ...values, wc_main_img: file.name, wc_main_img_data: file }))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit} autoComplete=\"off\">\r\n\t\t\t<TextField\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tname=\"wc_title\"\r\n\t\t\t\tlabel=\"브라우저 제목\"\r\n\t\t\t\tplaceholder=\"브라우저 상단에 표출되는 제목입니다\"\r\n\t\t\t\tmargin=\"normal\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\tInputLabelProps={{ shrink: true }}\r\n\t\t\t\thelperText={errors.wc_title}\r\n\t\t\t\tvalue={values.wc_title}\r\n\t\t\t\terror={!!errors.wc_title}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t/>\r\n\t\t\t<TextField\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tname=\"wc_main_msg\"\r\n\t\t\t\tlabel=\"메인화면 메시지\"\r\n\t\t\t\tplaceholder=\"메인화면에 표출되는 메시지입니다\"\r\n\t\t\t\tmargin=\"normal\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\tInputLabelProps={{ shrink: true }}\r\n\t\t\t\thelperText={errors.wc_main_msg}\r\n\t\t\t\tvalue={values.wc_main_msg}\r\n\t\t\t\terror={!!errors.wc_main_msg}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t/>\r\n\t\t\t<TextField\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tname=\"wc_return_msg\"\r\n\t\t\t\tlabel=\"박수 성공 메시지\"\r\n\t\t\t\tplaceholder=\"박수 성공시 나타나는 메시지입니다\"\r\n\t\t\t\tmargin=\"normal\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\tInputLabelProps={{ shrink: true }}\r\n\t\t\t\thelperText={errors.wc_return_msg}\r\n\t\t\t\tvalue={values.wc_return_msg}\r\n\t\t\t\terror={!!errors.wc_return_msg}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t/>\r\n\t\t\t<TextField\r\n\t\t\t\ttype=\"number\"\r\n\t\t\t\tname=\"wc_cnt_limit\"\r\n\t\t\t\tlabel=\"연속 박수 횟수 한도\"\r\n\t\t\t\tplaceholder=\"연속 박수 횟수의 한도를 설정합니다\"\r\n\t\t\t\tmargin=\"normal\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\tInputLabelProps={{ shrink: true }}\r\n\t\t\t\thelperText={errors.wc_cnt_limit || '한도를 설정하고 싶지 않으면 0으로 변경'}\r\n\t\t\t\tvalue={values.wc_cnt_limit}\r\n\t\t\t\terror={!!errors.wc_cnt_limit}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t/>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"file\"\r\n\t\t\t\taccept=\"image/*\"\r\n\t\t\t\tclassName={classes.fileInput}\r\n\t\t\t\tid=\"file-button\"\r\n\t\t\t\tonChange={handleFileChange}\r\n\t\t\t/>\r\n\t\t\t<label htmlFor=\"file-button\" className={classes.fileLabel}>\r\n\t\t\t\t<GradientButton variant=\"contained\" component=\"span\" className={classes.fileButton}>\r\n\t\t\t\t\t메인 이미지 변경\r\n\t\t\t\t</GradientButton>\r\n\t\t\t\t<span className={clsx(classes.fileLabelSpan, { [classes.uploaded]: !!values.wc_main_img_data })}>\r\n\t\t\t\t\t{values.wc_main_img}\r\n\t\t\t\t</span>\r\n\t\t\t</label>\r\n\t\t\t<GradientButton\r\n\t\t\t\ttype=\"submit\"\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\tclassName={classes.button}\r\n\t\t\t>\r\n\t\t\t\t설정 변경\r\n\t\t\t</GradientButton>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default ConfigPanel\r\n","import React, { useState, useCallback } from 'react'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogContentText from '@material-ui/core/DialogContentText'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport GradientButton from 'components/common/GradientButton'\r\nimport Button from '@material-ui/core/Button'\r\nimport { observer } from 'mobx-react-lite'\r\nimport useStore from 'hooks/useStore'\r\nimport api from 'utils/api'\r\nimport { useSnackbar } from 'notistack'\r\n\r\nfunction DbPanel() {\r\n\tconst store = useStore()\r\n\tconst { enqueueSnackbar } = useSnackbar()\r\n\r\n\tconst [open, setOpen] = useState(false)\r\n\r\n\tconst handleClickOpen = useCallback(() => {\r\n\t\tsetOpen(true)\r\n\t}, [])\r\n\r\n\tconst handleClose = useCallback(() => {\r\n\t\tsetOpen(false)\r\n\t}, [])\r\n\r\n\tasync function deleteAll() {\r\n\t\ttry {\r\n\t\t\tawait api.delete('/api/message.php')\r\n\t\t\tstore.deleteAll()\r\n\t\t\tsetOpen(false)\r\n\t\t\tenqueueSnackbar('로그를 삭제했습니다.', { variant: 'success' })\r\n\t\t} catch (e) {\r\n\t\t\tenqueueSnackbar(e.response.data.message || 'DB를 삭제할 수 없습니다.', { variant: 'error' })\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<GradientButton color=\"error\" variant=\"contained\" size=\"large\" onClick={handleClickOpen}>\r\n\t\t\t\t웹박수 로그를 삭제합니다\r\n\t\t\t</GradientButton>\r\n\t\t\t<Dialog\r\n\t\t\t\topen={open}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\taria-labelledby=\"alert-dialog-title\"\r\n\t\t\t\taria-describedby=\"alert-dialog-description\"\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle id=\"alert-dialog-title\">웹박수 로그를 삭제하겠습니까?</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<DialogContentText id=\"alert-dialog-description\">\r\n\t\t\t\t\t\t삭제된 로그는 복구할 수 없습니다.\r\n\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button onClick={handleClose} color=\"primary\">\r\n\t\t\t\t\t\t취소\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button onClick={deleteAll} color=\"primary\" autoFocus>\r\n\t\t\t\t\t\t확인\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default observer(DbPanel)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Container from '@material-ui/core/Container'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Box from '@material-ui/core/Box'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport useGlobal from 'hooks/useGlobal'\r\nimport api from 'utils/api'\r\nimport AdapterLink from 'utils/AdapterLink'\r\nimport GradientButton from 'components/common/GradientButton'\r\nimport MessagePanel from 'components/admin/message/MessagePanel'\r\nimport ConfigPanel from 'components/admin/config/ConfigPanel'\r\nimport DbPanel from 'components/admin/db/DbPanel'\r\nimport { StoreProvider } from 'hooks/useStore'\r\nimport { useSnackbar } from 'notistack'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcontent: {\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\tmarginTop: theme.spacing(6),\r\n\t\t\tmarginBottom: theme.spacing(6),\r\n\t\t},\r\n\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\tmarginTop: theme.spacing(2),\r\n\t\t\tmarginBottom: theme.spacing(2),\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nfunction TabPanel(props) {\r\n\tconst { children, value, index, ...other } = props\r\n\r\n\treturn (\r\n\t\t<Typography\r\n\t\t\tcomponent=\"div\"\r\n\t\t\trole=\"tabpanel\"\r\n\t\t\thidden={value !== index}\r\n\t\t\tid={`tabpanel-${index}`}\r\n\t\t\taria-labelledby={`tab-${index}`}\r\n\t\t\t{...other}\r\n\t\t>\r\n\t\t\t<Box p={2} minHeight={150}>\r\n\t\t\t\t{children}\r\n\t\t\t</Box>\r\n\t\t</Typography>\r\n\t)\r\n}\r\n\r\nfunction Admin({ history }) {\r\n\tconst classes = useStyles()\r\n\r\n\tconst { enqueueSnackbar } = useSnackbar()\r\n\tconst [config, authActions] = useGlobal(state => state.config, actions => actions.auth)\r\n\tconst [tabIndex, setTabIndex] = useState(0)\r\n\r\n\tfunction handleChange(event, newValue) {\r\n\t\tsetTabIndex(newValue)\r\n\t}\r\n\r\n\tasync function logout() {\r\n\t\ttry {\r\n\t\t\tawait api.post('/api/logout.php')\r\n\t\t\tauthActions.logout()\r\n\t\t\thistory.push('/')\r\n\t\t} catch (e) {\r\n\t\t\tenqueueSnackbar('로그아웃 실패', { variant: 'error' })\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.title = `${config.wc_title} | 관리자`\r\n\t}, [config.wc_title])\r\n\r\n\treturn (\r\n\t\t<StoreProvider>\r\n\t\t\t<Container maxWidth=\"md\">\r\n\t\t\t\t<Paper square className={classes.content}>\r\n\t\t\t\t\t<AppBar color=\"inherit\" position=\"static\" elevation={0}>\r\n\t\t\t\t\t\t<Tabs variant=\"fullWidth\" textColor=\"secondary\" value={tabIndex} onChange={handleChange}>\r\n\t\t\t\t\t\t\t<Tab label=\"메시지 확인\" />\r\n\t\t\t\t\t\t\t<Tab label=\"기본설정\" />\r\n\t\t\t\t\t\t\t<Tab label=\"웹박수 DB 관리\" />\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<TabPanel value={tabIndex} index={0}>\r\n\t\t\t\t\t\t<MessagePanel />\r\n\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t<TabPanel value={tabIndex} index={1}>\r\n\t\t\t\t\t\t<ConfigPanel />\r\n\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t<TabPanel value={tabIndex} index={2}>\r\n\t\t\t\t\t\t<DbPanel />\r\n\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t<Divider />\r\n\t\t\t\t\t<Box p={2} display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\">\r\n\t\t\t\t\t\t<GradientButton color=\"secondary\" variant=\"outlined\" component={AdapterLink} to=\"/\">\r\n\t\t\t\t\t\t\t메인으로\r\n\t\t\t\t\t\t</GradientButton>\r\n\t\t\t\t\t\t<GradientButton color=\"secondary\" variant=\"contained\" onClick={logout}>\r\n\t\t\t\t\t\t\t로그아웃\r\n\t\t\t\t\t\t</GradientButton>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Container>\r\n\t\t</StoreProvider>\r\n\t)\r\n}\r\n\r\nexport default Admin\r\n","import React from 'react'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport { makeStyles } from '@material-ui/styles'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tcolor: '#fff',\r\n\t\tboxShadow: theme.shadows[3],\r\n\t\t'&:active': {\r\n\t\t\tboxShadow: theme.shadows[3],\r\n\t\t},\r\n\t\tbackground: props =>\r\n\t\t\tprops.color === 'primary'\r\n\t\t\t\t? 'linear-gradient(135deg, #FAB2FF 10%, #1904E5 100%)'\r\n\t\t\t\t: 'linear-gradient(135deg, #2AFADF 10%, #4C83FF 100%)',\r\n\t},\r\n}))\r\n\r\nfunction GradientFab(props) {\r\n\tconst { color, ...other } = props\r\n\tconst classes = useStyles(props)\r\n\treturn <Fab classes={classes} {...other} />\r\n}\r\n\r\nexport default GradientFab\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport GradientButton from 'components/common/GradientButton'\r\nimport MailIcon from '@material-ui/icons/Mail'\r\nimport useForm from 'hooks/useForm'\r\nimport api from 'utils/api'\r\nimport { useSnackbar } from 'notistack'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tleftIcon: {\r\n\t\tfontSize: 20,\r\n\t\tmarginRight: theme.spacing(1),\r\n\t},\r\n}))\r\n\r\nfunction MessageForm() {\r\n\tconst classes = useStyles()\r\n\tconst { enqueueSnackbar } = useSnackbar()\r\n\r\n\tconst { values, errors, isSubmitting, setIsSubmitting, handleSubmit, handleChange, handleReset } = useForm(\r\n\t\t{ message: '' },\r\n\t\tonSubmit,\r\n\t\tvalidate\r\n\t)\r\n\r\n\tasync function onSubmit() {\r\n\t\ttry {\r\n\t\t\tconst { data } = await api.post('/api/message.php', { ...values, type: 'message' })\r\n\t\t\thandleReset()\r\n\t\t\tenqueueSnackbar(data.message, { variant: 'success' })\r\n\t\t} catch (e) {\r\n\t\t\tenqueueSnackbar(e.response.data.message || '메시지를 전송하지 못했습니다.', { variant: 'error' })\r\n\t\t} finally {\r\n\t\t\tsetIsSubmitting(false)\r\n\t\t}\r\n\t}\r\n\r\n\tfunction validate(values) {\r\n\t\tlet errors = {}\r\n\t\tif (!values.message.trim()) {\r\n\t\t\terrors.message = '메시지를 입력하세요'\r\n\t\t}\r\n\t\treturn errors\r\n\t}\r\n\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit} noValidate>\r\n\t\t\t<TextField\r\n\t\t\t\tlabel=\"메시지\"\r\n\t\t\t\tplaceholder=\"입력...\"\r\n\t\t\t\tmultiline\r\n\t\t\t\trows=\"3\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\tmargin=\"normal\"\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tInputLabelProps={{ shrink: true }}\r\n\t\t\t\tname=\"message\"\r\n\t\t\t\thelperText={errors.message}\r\n\t\t\t\tvalue={values.message}\r\n\t\t\t\terror={!!errors.message}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t/>\r\n\t\t\t<GradientButton type=\"submit\" variant=\"contained\" color=\"secondary\" disabled={isSubmitting}>\r\n\t\t\t\t<MailIcon className={classes.leftIcon} />\r\n\t\t\t\t메시지 전송\r\n\t\t\t</GradientButton>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default MessageForm\r\n","import React, { useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport PanToolIcon from '@material-ui/icons/PanTool'\r\nimport GradientButton from 'components/common/GradientButton'\r\nimport api from 'utils/api'\r\nimport { useSnackbar } from 'notistack'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tleftIcon: {\r\n\t\tfontSize: 20,\r\n\t\tmarginRight: theme.spacing(1),\r\n\t},\r\n}))\r\n\r\nfunction SendClapButton() {\r\n\tconst classes = useStyles()\r\n\tconst { enqueueSnackbar } = useSnackbar()\r\n\tconst [isSubmitting, setIsSubmitting] = useState(false)\r\n\r\n\tasync function sendClap() {\r\n\t\tsetIsSubmitting(true)\r\n\t\ttry {\r\n\t\t\tconst { data } = await api.post('/api/message.php', { type: 'clap' })\r\n\t\t\tenqueueSnackbar(data.message, { variant: 'success' })\r\n\t\t} catch (e) {\r\n\t\t\tenqueueSnackbar(e.response.data.message || '박수를 보낼 수 없습니다.', { variant: 'error' })\r\n\t\t} finally {\r\n\t\t\tsetIsSubmitting(false)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<GradientButton variant=\"contained\" color=\"primary\" size=\"large\" onClick={sendClap} disabled={isSubmitting}>\r\n\t\t\t<PanToolIcon className={classes.leftIcon} />\r\n\t\t\t박수를 보낸다\r\n\t\t</GradientButton>\r\n\t)\r\n}\r\n\r\nexport default SendClapButton\r\n","import React, { useEffect } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Container from '@material-ui/core/Container'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport Box from '@material-ui/core/Box'\r\nimport Link from '@material-ui/core/Link'\r\nimport SettingsIcon from '@material-ui/icons/Settings'\r\nimport AdapterLink from 'utils/AdapterLink'\r\nimport GradientFab from 'components/common/GradientFab'\r\nimport MessageForm from 'components/home/MessageForm'\r\nimport SendClapButton from 'components/home/SendClapButton'\r\nimport useGlobal from 'hooks/useGlobal'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcontent: {\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tmarginTop: theme.spacing(6),\r\n\t\t\tmarginBottom: theme.spacing(6),\r\n\t\t\tmarginLeft: theme.spacing(3),\r\n\t\t\tpadding: theme.spacing(4),\r\n\t\t},\r\n\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\tmarginTop: theme.spacing(2),\r\n\t\t\tmarginBottom: theme.spacing(2),\r\n\t\t},\r\n\t},\r\n\timageBox: {\r\n\t\tbackgroundColor: theme.palette.grey[100],\r\n\t\tbackgroundImage: props => `url(${process.env.PUBLIC_URL}/${props.img})`,\r\n\t\tbackgroundSize: 'cover',\r\n\t\tbackgroundRepeat: 'no-repeat',\r\n\t\tbackgroundPosition: 'center center',\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\twidth: 300,\r\n\t\t\tmarginLeft: theme.spacing(-9),\r\n\t\t},\r\n\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\twidth: '100%',\r\n\t\t\theight: 200,\r\n\t\t\tbackgroundPosition: 'center 40%',\r\n\t\t\tboxShadow: 'none',\r\n\t\t\tborderBottom: `1px solid ${theme.palette.divider}`,\r\n\t\t},\r\n\t},\r\n\tformBox: {\r\n\t\tposition: 'relative',\r\n\t\tflexBasis: 0,\r\n\t\tflexGrow: 1,\r\n\t\tpaddingTop: theme.spacing(1),\r\n\t\tpaddingBottom: theme.spacing(1),\r\n\t\tpaddingRight: theme.spacing(3),\r\n\t\tpaddingLeft: theme.spacing(4),\r\n\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\tpadding: theme.spacing(3),\r\n\t\t},\r\n\t},\r\n\tfab: {\r\n\t\tposition: 'absolute',\r\n\t\tbottom: theme.spacing(-7.5),\r\n\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\tbottom: theme.spacing(-3),\r\n\t\t\tright: theme.spacing(1),\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nfunction Home() {\r\n\tconst [config] = useGlobal(state => state.config)\r\n\tconst classes = useStyles({ img: config.wc_main_img })\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.title = config.wc_title\r\n\t}, [config.wc_title])\r\n\r\n\treturn (\r\n\t\t<Container maxWidth=\"md\">\r\n\t\t\t<Paper square className={classes.content}>\r\n\t\t\t\t<Paper square className={classes.imageBox} />\r\n\t\t\t\t<Box className={classes.formBox}>\r\n\t\t\t\t\t<Box mb={4}>\r\n\t\t\t\t\t\t<Box color=\"grey.500\" fontSize=\"caption.subtitle1\" fontWeight=\"fontWeightLight\">\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\thref=\"https://solution-release.tistory.com\"\r\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\t\tunderline=\"none\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tWebClap &copy; SR\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box fontSize=\"h5.fontSize\" fontWeight=\"fontWeightMedium\">\r\n\t\t\t\t\t\t\t{config.wc_main_msg}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box textAlign=\"center\" mb={2}>\r\n\t\t\t\t\t\t<SendClapButton />\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Divider />\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<MessageForm />\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<GradientFab\r\n\t\t\t\t\t\tcomponent={AdapterLink}\r\n\t\t\t\t\t\tto=\"/admin\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t\taria-label=\"admin\"\r\n\t\t\t\t\t\tclassName={classes.fab}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<SettingsIcon />\r\n\t\t\t\t\t</GradientFab>\r\n\t\t\t\t</Box>\r\n\t\t\t</Paper>\r\n\t\t</Container>\r\n\t)\r\n}\r\n\r\nexport default Home\r\n","import React from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport GradientButton from 'components/common/GradientButton'\r\nimport useGlobal from 'hooks/useGlobal'\r\nimport useForm from 'hooks/useForm'\r\nimport api from 'utils/api'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tbutton: {\r\n\t\tmarginTop: theme.spacing(1),\r\n\t},\r\n}))\r\n\r\nfunction LoginForm({ history }) {\r\n\tconst classes = useStyles()\r\n\r\n\tconst [, authActions] = useGlobal(state => null, actions => actions.auth)\r\n\tconst { values, errors, setErrors, isSubmitting, setIsSubmitting, handleSubmit, handleChange } = useForm(\r\n\t\t{ username: '', password: '' }, // initialValues\r\n\t\tonSubmit,\r\n\t\tvalidate\r\n\t)\r\n\r\n\tasync function onSubmit() {\r\n\t\ttry {\r\n\t\t\tawait api.post('/api/login.php', values)\r\n\t\t\tauthActions.login()\r\n\t\t\thistory.push('/admin')\r\n\t\t} catch (e) {\r\n\t\t\tsetIsSubmitting(false) // 성공한 경우 경로가 변경되므로 reset이나 summit 상태 변경이 필요없다\r\n\t\t\tconst { name, message } = e.response.data\r\n\t\t\tif (name) {\r\n\t\t\t\tsetErrors(state => ({ ...state, [name]: message }))\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(message)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction validate(values) {\r\n\t\tlet errors = {}\r\n\t\tif (!values.username.trim()) {\r\n\t\t\terrors.username = '아이디를 입력하세요.'\r\n\t\t}\r\n\t\tif (!values.password.trim()) {\r\n\t\t\terrors.password = '비밀번호를 입력하세요.'\r\n\t\t}\r\n\t\treturn errors\r\n\t}\r\n\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit} noValidate>\r\n\t\t\t<TextField\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tname=\"username\"\r\n\t\t\t\tlabel=\"아이디\"\r\n\t\t\t\tplaceholder=\"관리자 아이디\"\r\n\t\t\t\tmargin=\"normal\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\tautoComplete=\"email\"\r\n\t\t\t\tautoFocus\r\n\t\t\t\thelperText={errors.username}\r\n\t\t\t\tvalue={values.username}\r\n\t\t\t\terror={!!errors.username}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t/>\r\n\t\t\t<TextField\r\n\t\t\t\ttype=\"password\"\r\n\t\t\t\tname=\"password\"\r\n\t\t\t\tlabel=\"비밀번호\"\r\n\t\t\t\tplaceholder=\"관리자 비밀번호\"\r\n\t\t\t\tmargin=\"normal\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\tautoComplete=\"current-password\"\r\n\t\t\t\thelperText={errors.password}\r\n\t\t\t\tvalue={values.password}\r\n\t\t\t\terror={!!errors.password}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t/>\r\n\t\t\t<GradientButton\r\n\t\t\t\ttype=\"submit\"\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\tclassName={classes.button}\r\n\t\t\t>\r\n\t\t\t\t로그인\r\n\t\t\t</GradientButton>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default withRouter(LoginForm)\r\n","import React, { useEffect } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Container from '@material-ui/core/Container'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Box from '@material-ui/core/Box'\r\nimport LockIcon from '@material-ui/icons/Lock'\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack'\r\nimport AdapterLink from 'utils/AdapterLink'\r\nimport LoginForm from 'components/login/LoginForm'\r\nimport useGlobal from 'hooks/useGlobal'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tpaper: {\r\n\t\tpadding: theme.spacing(3),\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\tmarginTop: theme.spacing(6),\r\n\t\t\tmarginBottom: theme.spacing(6),\r\n\t\t},\r\n\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\tmarginTop: theme.spacing(2),\r\n\t\t\tmarginBottom: theme.spacing(2),\r\n\t\t},\r\n\t},\r\n\tavatar: {\r\n\t\tbackground: 'linear-gradient(135deg, #FAB2FF 10%, #1904E5 100%)',\r\n\t\tmargin: `0 auto ${theme.spacing(2)}px`,\r\n\t},\r\n\tgoback: {\r\n\t\tmarginLeft: theme.spacing(-2),\r\n\t\tmarginTop: theme.spacing(-2),\r\n\t},\r\n}))\r\n\r\nfunction Login() {\r\n\tconst classes = useStyles()\r\n\r\n\tconst [config] = useGlobal(state => state.config)\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.title = `${config.wc_title} | 로그인`\r\n\t}, [config.wc_title])\r\n\r\n\treturn (\r\n\t\t<Container maxWidth=\"sm\">\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<IconButton component={AdapterLink} to=\"/\" aria-label=\"goback\" classes={{ root: classes.goback }}>\r\n\t\t\t\t\t<ArrowBackIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t\t<Box textAlign=\"center\">\r\n\t\t\t\t\t<Avatar className={classes.avatar}>\r\n\t\t\t\t\t\t<LockIcon />\r\n\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t<Typography gutterBottom variant=\"h6\" component=\"h2\">\r\n\t\t\t\t\t\t관리자 로그인\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<LoginForm />\r\n\t\t\t</Paper>\r\n\t\t</Container>\r\n\t)\r\n}\r\n\r\nexport default Login\r\n","import React from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport GradientButton from 'components/common/GradientButton'\r\nimport useForm from 'hooks/useForm'\r\nimport useGlobal from 'hooks/useGlobal'\r\nimport api from 'utils/api'\r\nimport { useSnackbar } from 'notistack'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tbutton: {\r\n\t\tmarginTop: theme.spacing(1),\r\n\t},\r\n}))\r\n\r\nfunction InstallForm({ history }) {\r\n\tconst classes = useStyles()\r\n\tconst { enqueueSnackbar } = useSnackbar()\r\n\tconst [, configActions] = useGlobal(state => null, actions => actions.config)\r\n\r\n\tconst { values, errors, isSubmitting, setIsSubmitting, handleSubmit, handleChange } = useForm(\r\n\t\t{\r\n\t\t\tusername: '',\r\n\t\t\tpassword: '',\r\n\t\t\twc_host: 'localhost',\r\n\t\t\twc_user: '',\r\n\t\t\twc_password: '',\r\n\t\t\twc_db: '',\r\n\t\t},\r\n\t\tonSubmit,\r\n\t\tvalidate\r\n\t)\r\n\r\n\tasync function onSubmit() {\r\n\t\ttry {\r\n\t\t\tawait api.post('/api/install.php', values)\r\n\t\t\tconfigActions.getConfig()\r\n\t\t} catch (e) {\r\n\t\t\tsetIsSubmitting(false) // 성공한 경우 경로가 변경되므로 reset이나 summit 상태 변경이 필요없다\r\n\t\t\tenqueueSnackbar('DB에 접속할 수 없습니다.', { variant: 'error' })\r\n\t\t}\r\n\t}\r\n\r\n\tfunction validate(values) {\r\n\t\tlet errors = {}\r\n\t\tif (!values.username.trim()) {\r\n\t\t\terrors.username = '아이디를 입력하세요.'\r\n\t\t} else if (!/^[A-Za-z]+[A-Za-z0-9]{3,20}$/g.test(values.username)) {\r\n\t\t\terrors.username = '첫 글자 영문, 영문 + 숫자만 가능, 4~20자'\r\n\t\t}\r\n\t\tif (!values.password.trim()) {\r\n\t\t\terrors.password = '비밀번호를 입력하세요.'\r\n\t\t} else if (!/^[A-Za-z0-9]{4,20}$/g.test(values.password)) {\r\n\t\t\terrors.password = '영문 + 숫자만 가능, 4~20자'\r\n\t\t}\r\n\t\tif (!values.wc_host.trim()) {\r\n\t\t\terrors.wc_host = 'MySQL Host를 입력하세요.'\r\n\t\t}\r\n\t\tif (!values.wc_user.trim()) {\r\n\t\t\terrors.wc_user = 'MySQL User를 입력하세요.'\r\n\t\t}\r\n\t\tif (!values.wc_password.trim()) {\r\n\t\t\terrors.wc_password = 'MySQL Password를 입력하세요.'\r\n\t\t}\r\n\t\tif (!values.wc_db.trim()) {\r\n\t\t\terrors.wc_db = 'MySQL DB를 입력하세요.'\r\n\t\t}\r\n\t\treturn errors\r\n\t}\r\n\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit} noValidate>\r\n\t\t\t<TextField\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tname=\"username\"\r\n\t\t\t\tlabel=\"아이디\"\r\n\t\t\t\tplaceholder=\"관리자 아이디\"\r\n\t\t\t\tmargin=\"normal\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\tautoComplete=\"username\"\r\n\t\t\t\tautoFocus\r\n\t\t\t\thelperText={errors.username || '첫 글자 영문, 영문 + 숫자만 가능, 4~20자'}\r\n\t\t\t\tvalue={values.username}\r\n\t\t\t\terror={!!errors.username}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t/>\r\n\t\t\t<TextField\r\n\t\t\t\ttype=\"password\"\r\n\t\t\t\tname=\"password\"\r\n\t\t\t\tlabel=\"비밀번호\"\r\n\t\t\t\tplaceholder=\"관리자 비밀번호\"\r\n\t\t\t\tmargin=\"normal\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\tautoComplete=\"current-password\"\r\n\t\t\t\thelperText={errors.password || '영문 + 숫자만 가능, 4~20자'}\r\n\t\t\t\tvalue={values.password}\r\n\t\t\t\terror={!!errors.password}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t/>\r\n\t\t\t<TextField\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tname=\"wc_host\"\r\n\t\t\t\tlabel=\"MySQL Host\"\r\n\t\t\t\tplaceholder=\"MySQL 호스트 주소\"\r\n\t\t\t\tmargin=\"normal\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\thelperText={errors.wc_host}\r\n\t\t\t\tvalue={values.wc_host}\r\n\t\t\t\terror={!!errors.wc_host}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t/>\r\n\t\t\t<TextField\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tname=\"wc_user\"\r\n\t\t\t\tlabel=\"MySQL User\"\r\n\t\t\t\tplaceholder=\"MySQL 계정 아이디\"\r\n\t\t\t\tmargin=\"normal\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\thelperText={errors.wc_user}\r\n\t\t\t\tvalue={values.wc_user}\r\n\t\t\t\terror={!!errors.wc_user}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t/>\r\n\t\t\t<TextField\r\n\t\t\t\ttype=\"password\"\r\n\t\t\t\tname=\"wc_password\"\r\n\t\t\t\tlabel=\"MySQL Password\"\r\n\t\t\t\tplaceholder=\"MySQL 비밀번호\"\r\n\t\t\t\tmargin=\"normal\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\thelperText={errors.wc_password}\r\n\t\t\t\tvalue={values.wc_password}\r\n\t\t\t\terror={!!errors.wc_password}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t/>\r\n\t\t\t<TextField\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tname=\"wc_db\"\r\n\t\t\t\tlabel=\"MySQL DB\"\r\n\t\t\t\tplaceholder=\"MySQL DB명\"\r\n\t\t\t\tmargin=\"normal\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\thelperText={errors.wc_db}\r\n\t\t\t\tvalue={values.wc_db}\r\n\t\t\t\terror={!!errors.wc_db}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t/>\r\n\t\t\t<GradientButton\r\n\t\t\t\ttype=\"submit\"\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\tclassName={classes.button}\r\n\t\t\t>\r\n\t\t\t\t설치\r\n\t\t\t</GradientButton>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default withRouter(InstallForm)\r\n","import React, { useEffect } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Container from '@material-ui/core/Container'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Box from '@material-ui/core/Box'\r\nimport SaveAltIcon from '@material-ui/icons/SaveAlt'\r\nimport InstallForm from 'components/install/InstallForm'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tpaper: {\r\n\t\tpadding: theme.spacing(3),\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\tmarginTop: theme.spacing(6),\r\n\t\t\tmarginBottom: theme.spacing(6),\r\n\t\t},\r\n\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\tmarginTop: theme.spacing(2),\r\n\t\t\tmarginBottom: theme.spacing(2),\r\n\t\t},\r\n\t},\r\n\tavatar: {\r\n\t\tbackground: 'linear-gradient(135deg, #FAB2FF 10%, #1904E5 100%)',\r\n\t\tmargin: `0 auto ${theme.spacing(2)}px`,\r\n\t},\r\n}))\r\n\r\nfunction Install(props) {\r\n\tconst classes = useStyles()\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.title = '웹박수 | 설치'\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<Container maxWidth=\"sm\">\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<Box textAlign=\"center\">\r\n\t\t\t\t\t<Avatar className={classes.avatar}>\r\n\t\t\t\t\t\t<SaveAltIcon />\r\n\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t<Typography gutterBottom variant=\"h6\" component=\"h2\">\r\n\t\t\t\t\t\t웹박수 설치\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<InstallForm />\r\n\t\t\t</Paper>\r\n\t\t</Container>\r\n\t)\r\n}\r\n\r\nexport default Install\r\n","import axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n\tbaseURL: '.',\r\n})\r\n\r\nexport default instance\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport { makeStyles } from '@material-ui/styles'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcontained: {\r\n\t\tcolor: '#fff',\r\n\t\tboxShadow: theme.shadows[1],\r\n\t\t'&:active': {\r\n\t\t\tboxShadow: theme.shadows[1],\r\n\t\t},\r\n\t\tbackground: props =>\r\n\t\t\tprops.color === 'error'\r\n\t\t\t\t? 'linear-gradient( -135deg, #FFF6B7 10%, #F6416C 100%)'\r\n\t\t\t\t: props.color === 'primary'\r\n\t\t\t\t? 'linear-gradient(135deg, #FAB2FF 10%, #1904E5 100%)'\r\n\t\t\t\t: 'linear-gradient(135deg, #2AFADF 10%, #4C83FF 100%)',\r\n\t},\r\n\toutlined: {\r\n\t\tcolor: props => (props.color === 'primary' ? '#8759f1' : '#3db8f1'),\r\n\t\tborderColor: props => (props.color === 'primary' ? '#8759f1' : '#3db8f1'),\r\n\t},\r\n}))\r\n\r\nfunction GradientButton(props) {\r\n\tconst { color, ...other } = props\r\n\tconst classes = useStyles(props)\r\n\treturn <Button classes={classes} {...other} />\r\n}\r\n\r\nexport default GradientButton\r\n","import React from 'react'\r\nimport useGlobalHook from 'use-global-hook'\r\nimport Cookies from 'js-cookie'\r\nimport api from 'utils/api'\r\n\r\nconst authActions = {\r\n\tlogin(store) {\r\n\t\tstore.setState({ auth: true })\r\n\t},\r\n\tlogout(store) {\r\n\t\tstore.setState({ auth: false })\r\n\t},\r\n}\r\n\r\nconst configActions = {\r\n\tasync getConfig(store) {\r\n\t\ttry {\r\n\t\t\tconst { data } = await api.get('/api/config.php')\r\n\t\t\tstore.setState({ config: data })\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(e)\r\n\t\t}\r\n\t},\r\n\tsetConfig(store, data) {\r\n\t\tstore.setState({ config: data })\r\n\t},\r\n}\r\n\r\nconst actions = {\r\n\tauth: authActions,\r\n\tconfig: configActions,\r\n}\r\n\r\nconst initialState = {\r\n\tauth: !!Cookies.get('jtp'),\r\n\tconfig: null,\r\n}\r\n\r\nconst initializer = store => {\r\n\tstore.actions.config.getConfig()\r\n}\r\n\r\nconst useGlobal = useGlobalHook(React, initialState, actions, initializer)\r\n\r\nexport default useGlobal\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === '[::1]' ||\r\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n)\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n\t\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error('Error during service worker registration:', error)\r\n\t\t})\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl)\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type')\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload()\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log('No internet connection found. App is running in offline mode.')\r\n\t\t})\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\tregistration.unregister()\r\n\t\t})\r\n\t}\r\n}\r\n","import 'react-app-polyfill/ie11'\r\nimport 'react-app-polyfill/stable'\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport * as serviceWorker from './serviceWorker'\r\n\r\nimport { createMuiTheme } from '@material-ui/core/styles'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport { ThemeProvider } from '@material-ui/styles'\r\nimport grey from '@material-ui/core/colors/grey'\r\n\r\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers'\r\nimport DateFnsUtils from '@date-io/date-fns'\r\n\r\nconst theme = createMuiTheme({\r\n\tbreakpoints: {\r\n\t\tvalues: {\r\n\t\t\txs: 0,\r\n\t\t\tsm: 400,\r\n\t\t\tmd: 750,\r\n\t\t\tlg: 1280,\r\n\t\t\txl: 1920,\r\n\t\t},\r\n\t},\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: '#8759f1',\r\n\t\t\tcontrastText: '#fff',\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tmain: '#3db8f1',\r\n\t\t\tcontrastText: '#fff',\r\n\t\t},\r\n\t\tbackground: {\r\n\t\t\tdefault: grey[100],\r\n\t\t},\r\n\t},\r\n\ttypography: {\r\n\t\tfontFamily: \"'Noto Sans KR', sans-serif\",\r\n\t},\r\n})\r\n\r\nReactDOM.render(\r\n\t<MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n\t\t<ThemeProvider theme={theme}>\r\n\t\t\t<App />\r\n\t\t\t<CssBaseline />\r\n\t\t</ThemeProvider>\r\n\t</MuiPickersUtilsProvider>,\r\n\tdocument.getElementById('root')\r\n)\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister()\r\n","import { useState } from 'react'\r\n\r\nconst useForm = (initialValues, onSubmit, validate) => {\r\n\tconst [values, setValues] = useState(initialValues)\r\n\tconst [errors, setErrors] = useState({})\r\n\tconst [isSubmitting, setIsSubmitting] = useState(false)\r\n\r\n\tconst handleSubmit = event => {\r\n\t\tif (event) event.preventDefault()\r\n\r\n\t\tconst validated = validate ? validate(values) : values\r\n\t\tsetErrors(validated)\r\n\r\n\t\tif (Object.keys(validated).length === 0) {\r\n\t\t\tsetIsSubmitting(true)\r\n\t\t\tonSubmit()\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleChange = event => {\r\n\t\tevent.persist()\r\n\t\tconst { name, value } = event.target\r\n\t\tif (errors[name]) {\r\n\t\t\tsetErrors(errors => {\r\n\t\t\t\tconst { [name]: omitted, ...rest } = errors\r\n\t\t\t\treturn rest\r\n\t\t\t})\r\n\t\t}\r\n\t\tsetValues(values => ({ ...values, [name]: value }))\r\n\t}\r\n\r\n\tconst handleReset = () => {\r\n\t\tsetValues(initialValues)\r\n\t}\r\n\r\n\treturn {\r\n\t\tvalues,\r\n\t\tsetValues,\r\n\t\terrors,\r\n\t\tsetErrors,\r\n\t\tisSubmitting,\r\n\t\tsetIsSubmitting,\r\n\t\thandleSubmit,\r\n\t\thandleChange,\r\n\t\thandleReset,\r\n\t}\r\n}\r\n\r\nexport default useForm\r\n"],"sourceRoot":""}